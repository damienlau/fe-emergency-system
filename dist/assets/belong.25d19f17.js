import{d as e,j as t,l,o as a,c as s,F as i,r as n,G as o,y as u}from"./vendor.0da49830.js";import{C as r,F as c}from"./index.fa94ef0b.js";import{I as d,M as m,T as v}from"./index.21b59043.js";var p=e({setup(){const e=t(),p=l({label:"待归仓物资",type:"string",key:"pengding",data:[{title:"测试标题",page:"（5/20）",url:"http://inews.gtimg.com/newsapp_bt/0/13924356038/641",content:["单兵头盔1","单兵头盔2","单兵头盔3","单兵头盔4","单兵头盔5"]},{title:"测试2",page:"（8/20）",url:"http://inews.gtimg.com/newsapp_bt/0/13924356038/641",content:["头盔5","头盔6","头盔7","头盔8","头盔9","头盔1","头盔2","头盔3"]}]}),h=l({label:"已归仓物资",type:"string",key:"finished"}),f=l(!1),b=l(!1),y=l([{label:"符合清单物资",key:"1",count:5},{label:"未符合清单物资",key:"2",count:10},{label:"未扫描到的物资",key:"3",count:20}]),g=l([{label:"归还人",key:"name"},{label:"归还人工号",key:"number"},{label:"联系电话",key:"telephone"}]),x=l(!0),w=l(y.value[0].key),k=l([]),C=()=>{f.value=!f.value},j=(t=w.value)=>{w.value=t,e.dispatch("warehouseModule/shortcutModule/findShortcutCards",t).then((e=>{k.value=e,x.value=!e.length}))},M=()=>{u.confirm({class:"bg-navy-3 rounded pb-0 border border-primary",title:"确定要全部移除吗？",content:"移除未符合清单的全部物资",centered:!0,onOk:()=>{e.dispatch("warehouseModule/shortcutModule/deleteSpecifiedShortcutCard",k.value.map((e=>({id:e.key})))).then((()=>{j()}))}})},S=l({}),z=()=>{console.log(b.value),b.value=!b.value},U=()=>{b.value=!b.value};return a((()=>{})),()=>s(i,null,[s("div",{class:"h-full flex"},[s("div",{class:"flex-1"},[s(n("a-layout"),{class:"h-full bg-navy-4"},{default:()=>[s(n("a-layout-header"),{class:"h-64 bg-navy-4 flex items-center justify-center text-18 text-white border-b border-navy-1"},{default:()=>[s("div",null,[p.value.label])]}),s(n("a-layout-content"),{class:"ml-16 h-full overflow-y-auto"},{default:()=>[s("div",{class:"mt-16"},[p.value.data.map((e=>s("div",{class:"mb-16 mr-8 bg-navy-2 h-modal-lightmin"},[s("div",{class:"h-64 flex items-center justify-center text-white border-b border-navy-1"},[s("div",{class:"flex items-center justify-center"},[s("span",{class:"text-20"},[e.title]),s("span",{class:"text-success"},[e.page])])]),s("div",{class:"flex py-16 px-16"},[s("div",{class:"h-modal-lightermin w-modal-lightermin bg-white"},[s("img",{class:"h-modal-lightermin w-modal-lightermin",src:e.url},null)]),s("div",{class:"bg-navy-4 ml-16 overflow-y-auto h-modal-lightermin flex-1"},[e.content.map(((e,t)=>s("div",{class:"h-54 ml-16 mr-16 border-b border-navy-1  flex items-center"},[s("span",{class:"text-14 w-full overflow-hidden h-22"},[e])])))])])])))])]})]})]),s(d,{style:"font-size:76px;color:#0e518f;width:140px;",class:"flex items-center justify-center",type:"arrow-right-filling"},null),s("div",{class:"flex-1"},[s(n("a-layout"),{class:"h-full bg-navy-4"},{default:()=>[s(n("a-layout-header"),{class:"h-64 bg-navy-4 flex items-center justify-center text-18 text-white border-b border-navy-1 relative"},{default:()=>[s("div",null,[h.value.label]),s("div",{class:"absolute right-5"},[s(n("a-button"),{type:"primary",onClick:()=>{f.value=!f.value}},{default:()=>[o("扫描完成")]})])]}),s(n("a-layout-content"),{class:"ml-16 h-full overflow-y-auto"},{default:()=>[s("div",{class:"mt-16"},[s("div",{class:" mr-8  h-modal-lightmin border border-danger ghost bg-red-400 bg-opacity-10"},[s("div",{class:"h-64 flex items-center justify-center text-white border-b border-navy-1 relative"},[s("div",{class:"flex items-center justify-center"},[s("span",{class:"text-20"},[o("川-后勤-001")]),s(n("a-space"),{size:8,class:"absolute right-5"},{default:()=>[s(n("a-button"),{ghost:!0,danger:!0},{default:()=>[s(d,{type:"delete",onClick:"handleClickDelete"},null),o("移除")]})]})])]),s("div",{class:"flex py-16 px-16"},[s("div",{class:" h-modal-lightermin w-modal-lightermin bg-white"},[s("img",null,null)]),s("div",{class:"bg-navy-4 ml-16 overflow-y-auto h-modal-lightermin flex-1 flex items-center"},[s("div",{style:"margin:0 auto;"},[s(n("a-empty"),{description:"空空如也",image:"assets/icon_empty_data.png"},null)])])])]),s("span",{class:"text-danger text-12 mb-16"},[o("该物资/箱子不属于本次借贷清单")])])]})]})])]),s(m,{visible:f.value,"onUpdate:visible":e=>f.value=e,size:"heavy",title:"出仓扫描清单"},{default:()=>[s(v,{activeKey:w.value,"onUpdate:activeKey":e=>w.value=e,block:!0,columns:y.value,empty:x.value,onClick:j},{default:()=>[s("section",{class:"overflow-y-auto grid grid-cols-5 gap-16"},[k.value.map((t=>s(r,{title:t.label},{title:()=>s("p",{class:"text-16 font-medium"},[s("span",null,[t.label]),t.capacities&&s("span",null,[o("("),t.capacities[0],o("/"),t.capacities[1],o(")")])]),extra:()=>s(n("a-popconfirm"),{title:"确认删除吗？","ok-text":"删除","cancel-text":"取消",placement:"bottomRight",onConfirm:()=>{return l=t.key,void e.dispatch("warehouseModule/shortcutModule/deleteSpecifiedShortcutCard",[{id:l}]).then((()=>{j()}));var l}},{default:()=>[s(n("a-button"),{class:"flex flex-row items-center p-0",type:"text",danger:!0},{default:()=>[o("移出")],icon:()=>s(d,{type:"delete"},null)})]}),default:()=>s("div",{class:"flex flex-row"},[s("div",{class:"flex-shrink-0 mr-16"},[s(n("a-image"),{width:108,height:108},null)]),s("div",null,[s("p",null,[s("span",{class:"text-white text-opacity-70"},[o("货架位置")]),s("span",{class:"text-16"},[t.position])]),s("p",null,[s("span",{class:"text-white text-opacity-70"},[o("类型")])]),s("p",null,[s("span",{class:"text-white text-opacity-70"},[o("尺寸")])]),s("p",null,[s("span",{class:"text-white text-opacity-70"},[o("箱子编码")])])])])})))])],extra:()=>s(n("a-space"),{size:8},{default:()=>[s(n("a-button"),{ghost:!0,danger:!0,onClick:M},{default:()=>[o("全部移除")]})]})}),s("div",{class:"absolute bottom-0 w-full text-center"},[s(n("a-button"),{class:"mr-10",ghost:!0,"html-type":"submit",onClick:C},{default:()=>[o("返回扫描")]}),s(n("a-button"),{ghost:!0,"html-type":"submit",onClick:z},{default:()=>[o("确定归仓")]})])]}),s(m,{visible:b.value,"onUpdate:visible":e=>b.value=e,size:"ultralight",title:"请填写信息"},{default:()=>[s(c,{model:S.value,"onUpdate:model":e=>S.value=e,columns:g.value,onSubmit:U},{button:()=>s(n("a-button"),{ghost:!0,"html-type":"submit"},{default:()=>[s(d,{class:"align-baseline",type:"determine"},null),o("确定")]})})]})])}});export{p as default};
